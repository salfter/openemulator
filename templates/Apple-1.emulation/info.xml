<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dml PUBLIC "-//OPENEMULATOR//DTD DML 1.0//EN" "http://www.openemulator.org/DTDs/dml-1.0.dtd">
<dml version="1.0" label="Apple-1" image="Apple-1.png" description="" group="Early microcomputers">
<device name="host">
    <component name="host" class="Host">
        <property name="notes" value="" />
        <property name="powerState" value="0" />
        <property name="videoWindow" value="-1 -1 768 576" />
        <property name="hidMouseCapture" value="1" />
    </component>
</device>

<device name="dev0" label="Apple-1">
    <inlet ref="terminal.monitor" type="CompositeVideo" label="Video Connector" image="Video Connector.png" />
    <inlet ref="system.slot1" type="Apple1Slot" label="Slot 1" image="Apple I Slot.png" />
    <inlet ref="system.slot2" type="Apple1Slot" label="Slot 2" image="Apple I Slot.png" />
    <component name="bus" class="Bus">
        <property name="crystal" value="14.31818MHz" />
        <property name="divider" value="14" />
        <property name="floatingBus" value="0xff" />
        <connection name="host" ref="host:host" />
        <connection name="cpu" ref="cpu" />
        <connection name="mmu" ref="" />
        <connection name="slot1" ref="" />
        <connection name="slot2" ref="" />
    </component>
    <component name="cpu" class="MOS6502">
        <property name="a" value="0" />
        <property name="x" value="0" />
        <property name="y" value="0" />
        <property name="s" value="0" />
        <property name="p" value="0" />
        <property name="pc" value="0" />
        <connection name="memory" ref="mmu" />
        <connection name="bus" ref="bus" />
    </component>
    <component name="mmu" class="AddressDecoder">
        <property name="addressSize" value="16" />
        <property name="blockSize" value="8" />
        <connection name="bus" value="bus" />
    </component>
    <component name="ram1" class="RAM">
        <connection name="mmu" ref="mmu" />
        <property name="mmuMap" value="0x0000-0x0fff" />
        <data name="image" src="${REF}.bin" />
        <property name="size" value="0x1000" />
        <connection name="host" ref="host:host" />
    </component>
    <component name="io" class="AddressDecoder">
        <connection name="mmu" ref="mmu" />
        <property name="mmuMap" value="0xc000-0xcfff" />
        <property name="addressSize" value="5" />
        <property name="blockSize" value="4" />
        <connection name="bus" value="bus" />
    </component>
    <component name="pia" class="MC6821">
        <connection name="mmu" ref="io" />
        <property name="mmuMap" value="0x10-0x1f" />
        <connection name="bus" ref="bus" />
        <connection name="portA" ref="" />
        <property name="controlA" value="0" />
        <property name="directionA" value="0" />
        <property name="dataA" value="0" />
        <property name="ca1" value="0" />
        <property name="ca2" value="0" />
        <connection name="busA" ref="" />
        <connection name="portB" ref="video" />
        <property name="controlB" value="0" />
        <property name="directionB" value="0" />
        <property name="dataB" value="0" />
        <property name="cb1" value="0" />
        <property name="cb2" value="0" />
        <connection name="busB" ref="" />
    </component>
    <component name="keyboard" class="Apple1Video">
        <connection name="host" ref="host:host" />
        <connection name="pia" ref="pia" />
    </component>
    <component name="video" class="Apple1Video">
        <resource name="charset" src="roms/Signetics 2513 Video ROM.bin" />
        <connection name="host" ref="host:host" />
        <connection name="bus" ref="bus" />
        <connection name="pia" ref="pia" />
        <connection name="monitor" ref="dev1:monitor" />
    </component>
    <component name="ram2" class="RAM">
        <connection name="mmu" ref="mmu" />
        <property name="mmuMap" value="0xe000-0xefff" />
        <data name="image" src="${REF}.bin" />
        <property name="size" value="0x1000" />
        <connection name="host" ref="host:host" />
    </component>
    <component name="rom" class="ROM">
        <connection name="mmu" ref="mmu" />
        <property name="mmuMap" value="R0xf000-0xffff" />
        <resource name="image" src="roms/Apple I Monitor ROM.bin" />
    </component>
</device>

<device name="dev1" type="peripheral" label="Composite Monitor" image="CompositeMonitor.png">
    <outlet ref="monitor" type="CompositeVideo" />
    <component name="monitor" class="CompositeMonitor">
        <connection name="host" ref="host:host" />
    </component>
</device>

</dml>
