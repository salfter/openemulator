<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE edl PUBLIC "-//OPENEMULATOR//DTD EDL 1.0//EN" "http://www.openemulator.org/DTD/edl-1.0.dtd">
<edl version="1.0" type="Early microcomputers" label="MOS KIM-1" imageSrc="images/Early microcomputers/MOS KIM-1.png" description="">

<component id="host" class="Host">
    <property name="notes" value="" />
    <property name="powerState" value="0" />
    <property name="videoWindow" value="-1 -1 768 576" />
</component>

<device id="kim1" type="Motherboard" label="KIM-1" imageSrc="images/Early microcomputers/MOS KIM-1.png" />
<port id="kim1.serialPort" ref="term.connector" type="Serial" label="Serial Port" imageSrc="Serial Port.png">
    <inlet ref="kim1.io" property="serial" outletRef="io" />
</port>
<port id="kim1.cpuSocket" ref="" type="CPU6502Socket" label="CPU Socket" imageSrc="CPU 6502 Socket.png">
    <inlet ref="kim1.controlBus" property="masterSocket" outletRef="master" />
</port>
<port id="kim1.slot1" ref="" type="Kim1Slot" label="Slot 1" imageSrc="Kim-1 Slot.png" />
<port id="kim1.slot2" ref="" type="Kim1Slot" label="Slot 2" imageSrc="Kim-1 Slot.png" />
<component id="kim1.controlBus" class="ControlBus">
    <property name="host" ref="host" />
    <property name="crystal" value="1.0MHz" />
    <property name="frequencyDivider" value="1" />
    <property name="master" ref="kim1.cpu" />
    <property name="masterSocket" ref="" />
    <property name="reset" value="0" />
    <property name="resetOnPowerOn" value="0" />
</component>
<component id="kim1.memoryBus" class="AddressDecoder">
    <property name="addressSize" value="16" />
    <property name="blockSize" value="6" />
    <property name="floatingBus" ref="kim1.floatingBus" />
    <property name="refRAM" ref="kim1.ram" />
    <property name="mapRAM" value="0x0000-0x03ff,0x2000-0x23ff,0x4000-0x43ff,0x6000-0x63ff,0x8000-0x83ff,0xa000-0xa3ff,0xc000-0xc3ff,0xe000-0xe3ff" />
    <property name="refRRIOT1" ref="kim1.rriot1" />
    <property name="mapRRIOT1" value="0x1700-0x173f,0x3700-0x373f,0x5700-0x573f,0x7700-0x773f,0x9700-0x973f,0xb700-0xb73f,0xd700-0xd73f,0xf700-0xf73f" />
    <property name="refRRIOT2" ref="kim1.rriot2" />
    <property name="mapRRIOT2" value="0x1740-0x177f,0x3740-0x377f,0x5740-0x577f,0x7740-0x777f,0x9740-0x977f,0xb740-0xb77f,0xd740-0xd77f,0xf740-0xf77f," />
    <property name="refRRIOT1RAM" ref="kim1.rriot1.ram" />
    <property name="mapRRIOT1RAM" value="0x1780-0x17bf,0x3780-0x37bf,0x5780-0x57bf,0x7780-0x77bf,0x9780-0x97bf,0xb780-0xb7bf,0xd780-0xd7bf,0xf780-0xf7bf" />
    <property name="refRRIOT2RAM" ref="kim1.rriot2.ram" />
    <property name="mapRRIOT2RAM" value="0x17c0-0x17ff,0x37c0-0x37ff,0x57c0-0x57ff,0x77c0-0x77ff,0x97c0-0x97ff,0xb7c0-0xb7ff,0xd7c0-0xd7ff,0xf7c0-0xf7ff" />
    <property name="refRRIOT1ROM" ref="kim1.rriot1.rom" />
    <property name="mapRRIOT1ROM" value="0x1800-0x1bff,0x3800-0x3bff,0x5800-0x5bff,0x7800-0x7bff,0x9800-0x9bff,0xb800-0xbbff,0xd800-0xdbff,0xf800-0xfbff" />
    <property name="refRRIOT2ROM" ref="kim1.rriot2.rom" />
    <property name="mapRRIOT2ROM" value="0x1c00-0x1fff,0x3c00-0x3fff,0x5c00-0x5fff,0x7c00-0x7fff,0x9c00-0x9fff,0xbc00-0xbfff,0xdc00-0xdfff,0xfc00-0xffff" />
</component>
<component id="kim1.cpu" class="MOS6502">
    <property name="a" value="0" />
    <property name="x" value="0" />
    <property name="y" value="0" />
    <property name="s" value="0" />
    <property name="p" value="0" />
    <property name="pc" value="0" />
    <property name="memoryBus" ref="kim1.memoryBus" />
    <property name="controlBus" ref="kim1.controlBus" />
</component>
<component id="kim1.floatingBus" class="FloatingBus">
    <property name="mode" value="ground" />
</component>
<component id="kim1.ram" class="RAM">
    <property name="host" ref="host" />
    <property name="image" src="${packagePath}/${id}.bin" />
    <property name="size" value="0x400" />
</component>
<component id="kim1.rriot1" class="MOS6530">
    <property name="controlBus" ref="kim1.controlBus" />
    <property name="portA" ref="kim1.io" />
    <property name="directionA" value="0" />
    <property name="dataA" value="0" />
    <property name="portB" ref="kim1.io" />
    <property name="directionB" value="0" />
    <property name="dataB" value="0" />
</component>
<component id="kim1.rriot2" class="MOS6530">
    <property name="controlBus" ref="kim1.controlBus" />
    <property name="portA" ref="" />
    <property name="directionA" value="0" />
    <property name="dataA" value="0" />
    <property name="portB" ref="" />
    <property name="directionB" value="0" />
    <property name="dataB" value="0" />
</component>
<component id="kim1.rriot1.ram" class="RAM">
    <property name="image" src="${packagePath}/${id}.bin" />
    <property name="size" value="0x40" />
    <property name="host" ref="host" />
</component>
<component id="kim1.rriot2.ram" class="RAM">
    <property name="image" src="${packagePath}/${id}.bin" />
    <property name="size" value="0x40" />
    <property name="host" ref="host" />
</component>
<component id="kim1.rriot1.rom" class="ROM">
    <property name="image" src="${resourcesPath}/roms/Early microcomputers/MOS KIM-1 6530-002 ROM.bin" />
</component>
<component id="kim1.rriot2.rom" class="ROM">
    <property name="image" src="${resourcesPath}/roms/Early microcomputers/MOS KIM-1 6530-003 ROM.bin" />
</component>
<component id="kim1.io" class="KIM1IO">
    <property name="host" ref="host" />
    <property name="view" src="${resourcesPath}/images/Early microcomputers/MOS KIM-1 View.png" />
    <property name="serialPort" ref="" />
    <property name="audioOut" ref="kim1.audioOut" />
    <property name="audioIn" ref="kim1.audioIn" />
</component>
<component id="kim1.audioOut" class="AudioSampleConverter">
    <property name="host" ref="host" />
    <property name="controlBus" ref="kim1.controlBus" />
</component>
<component id="kim1.audioIn" class="AudioPLL">
    <property name="host" ref="host" />
    <property name="decisionFrequency" value="3400" />
</component>

<device id="term" type="Expansion" label="Terminal" imageSrc="Terminal.png" />
<connector id="term.connector" type="Serial" label="Connector" imageSrc="Serial Port Connector.png" />
<component id="term.io" class="Terminal">
    <property name="host" ref="host" />
    <property name="width" value="24" />
    <property name="height" value="40" />
</component>
<component id="term.charset" class="CharsetLoader">
    <property name="format" value="Signetics" />
    <property name="image" src="${resourcesPath}/roms/Signetics/Signetics 2513 Video ROM.bin" />
</component>

</edl>
